{% extends 'base.html' %}

{% block title %}üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î{% endblock %}

{% block content %}
<style>
  .waiting { color: orange; }
  .in-progress { color: blue; }
  .done { color: green; }
  .status-tag { font-weight: bold; }
  table { width: 100%; border-collapse: collapse; }
  th, td { padding: 8px; border: 1px solid #ccc; }
</style>

<div class="max-w-6xl mx-auto px-4 py-8">
  <h2 class="text-2xl font-semibold mb-6">üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>

  <table class="bg-white rounded-lg shadow-md overflow-hidden">
    <thead class="bg-gray-100">
      <tr>
        <th>‡∏£‡∏´‡∏±‡∏™‡∏á‡∏≤‡∏ô</th>
        <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
        <th>‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</th>
        <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</th>
        <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô</th>
        <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á</th>
        <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</th>
        <th>‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
      </tr>
    </thead>
    <tbody>
      {% for request in request_list %}
      <tr>
        <td>{{ request.taskCode }}</td>
        <td>
          <span class="status-tag {{ get_status_class(request.status) }}">
            {{ request.status }}
          </span>
        </td>
        <td>{{ request.title }}</td>
        <td>{{ request.priority }}</td>
        <td>{{ request.type }}</td>
        <td>{{ request.createdAt | format_date }}</td>
        <td>{{ request.sendDate | format_date }}</td>
        <td>
          <button onclick="alert('üìÑ ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á: {{ request.taskCode }}')">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
